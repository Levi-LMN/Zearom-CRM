{% extends "base.html" %}

{% block title %}{% if product %}Edit Product{% else %}Create Product{% endif %} - Zearom CRM{% endblock %}

{% block content %}
<div class="max-w-3xl mx-auto">
    <!-- Header -->
    <div class="mb-8">
        <h1 class="text-3xl font-bold text-deep-space">{% if product %}Edit Product{% else %}Create New Product{% endif %}</h1>
        <p class="text-gray-600 mt-1">{% if product %}Update product information{% else %}Add a new product to your catalog{% endif %}</p>
    </div>

    <!-- Form -->
    <form method="POST" class="bg-white rounded-xl shadow-lg p-8 space-y-6">
        <!-- Product Name -->
        <div>
            <label for="name" class="block text-sm font-semibold text-gray-700 mb-2">
                <i class="fas fa-box text-sky-blue mr-2"></i>Product Name *
            </label>
            <input type="text" name="name" id="name" required 
                   value="{% if product %}{{ product.name }}{% endif %}"
                   class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-blue focus:border-transparent transition"
                   placeholder="Enter product name">
        </div>

        <!-- Category -->
        <div>
            <label for="category" class="block text-sm font-semibold text-gray-700 mb-2">
                <i class="fas fa-tag text-steel-blue mr-2"></i>Category
            </label>
            <input type="text" name="category" id="category" 
                   value="{% if product %}{{ product.category }}{% endif %}"
                   class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-blue focus:border-transparent transition"
                   placeholder="e.g., Software, Hardware, Services">
        </div>

        <!-- Description -->
        <div>
            <label for="description" class="block text-sm font-semibold text-gray-700 mb-2">
                <i class="fas fa-align-left text-purple-500 mr-2"></i>Description
            </label>
            <textarea name="description" id="description" rows="4" 
                      class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-blue focus:border-transparent transition"
                      placeholder="Describe your product...">{% if product %}{{ product.description }}{% endif %}</textarea>
        </div>

        <!-- Active Status -->
        <div class="flex items-center space-x-3 p-4 bg-gray-50 rounded-lg">
            <input type="checkbox" name="active" id="active" 
                   {% if not product or product.active %}checked{% endif %}
                   class="w-5 h-5 text-sky-blue border-gray-300 rounded focus:ring-2 focus:ring-sky-blue">
            <label for="active" class="text-sm font-semibold text-gray-700 cursor-pointer">
                <i class="fas fa-check-circle text-green-500 mr-2"></i>Active Product
                <p class="text-xs text-gray-600 mt-1">Active products are available for creating leads</p>
            </label>
        </div>

        <!-- Actions -->
        <div class="flex flex-col sm:flex-row gap-4 pt-6 border-t border-gray-200">
            <button type="submit" 
                    class="flex-1 bg-deep-space hover:bg-opacity-90 text-white px-6 py-3 rounded-lg font-semibold transition shadow-lg card-hover">
                <i class="fas fa-save mr-2"></i>{% if product %}Update Product{% else %}Create Product{% endif %}
            </button>
            <a href="{{ url_for('products.list_products') }}" 
               class="flex-1 bg-gray-200 hover:bg-gray-300 text-gray-700 px-6 py-3 rounded-lg font-semibold transition text-center">
                <i class="fas fa-times mr-2"></i>Cancel
            </a>
        </div>
    </form>
</div>
{% endblock %}